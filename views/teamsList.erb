<%
   # require "/RubyTest/models/ProTeam"
   # require "/RubyTest/cache/ProTeamCache"
%>
<!DOCTYPE html>
<head>
<meta charset="utf-8">
<title>Ruby Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=1" /> 
</head>
<%
   ptCache = ProTeamCache.instance
   teams   = ptCache.getAll
   htm   = ""
   teams.each { |pt| htm += (pt.id + ". " + pt.name + "<br />") } 
 
   # is ?trace=xx part of the URL?
   traceOn = params[:trace]
   traceOn = traceOn == nil ? false : true
 
   ptCache.setTraces(traceOn)
   pt1 = ptCache.get_byId(1) 
   htm += pt1.to_s if pt1 != nil
   pt1 = ptCache.get_byId(6) 
   htm += pt1.to_s if pt1 != nil
   pt1 = ptCache.get_byId(16) 
   htm += pt1.to_s if pt1 != nil
   pt1 = ptCache.get_byId(26) 
   htm += pt1.to_s if pt1 != nil
   pt1 = ptCache.get_byId(36) 
   htm += pt1.to_s if pt1 != nil 
%>

  <p style='font-weight:bold;'>Total Teams Loaded:  <%= teams.length %> </p>

<body>
  <%= htm %>
</body>

</html>